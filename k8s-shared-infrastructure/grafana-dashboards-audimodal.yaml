apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-audimodal
  namespace: tas-shared
  labels:
    app: grafana-shared
    component: dashboards
data:
  audimodal-processing-status.json: |
    {
      "title": "AudiModal Processing Status",
      "uid": "audimodal-processing-status",
      "tags": [
        "audimodal",
        "processing",
        "files"
      ],
      "timezone": "browser",
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 1,
      "id": null,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "id": 1,
          "title": "Files by Status",
          "description": "Current count of files in each processing status",
          "type": "piechart",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT status, count(*) AS value FROM files WHERE deleted_at IS NULL GROUP BY status ORDER BY value DESC",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "completed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "processed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "processing"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "discovered"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "error"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "failed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "options": {
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single"
            }
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 0
          }
        },
        {
          "id": 2,
          "title": "Total Files",
          "description": "Total files tracked in audimodal",
          "type": "stat",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT count(*) AS \"Total Files\" FROM files WHERE deleted_at IS NULL",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "blue",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ]
            }
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 8,
            "y": 0
          }
        },
        {
          "id": 3,
          "title": "Currently Processing",
          "description": "Files actively being processed right now",
          "type": "stat",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT count(*) AS \"Processing\" FROM files WHERE status = 'processing' AND deleted_at IS NULL",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "yellow",
                    "value": 5
                  },
                  {
                    "color": "orange",
                    "value": 20
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ]
            }
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 12,
            "y": 0
          }
        },
        {
          "id": 4,
          "title": "Failed / Errors",
          "description": "Files in error or failed state",
          "type": "stat",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT count(*) AS \"Failed\" FROM files WHERE status IN ('error', 'failed') AND deleted_at IS NULL",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ]
            }
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 16,
            "y": 0
          }
        },
        {
          "id": 5,
          "title": "Total Chunks",
          "description": "Total chunks extracted from all files",
          "type": "stat",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT count(*) AS \"Chunks\" FROM chunks WHERE deleted_at IS NULL",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "purple",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ]
            }
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 20,
            "y": 0
          }
        },
        {
          "id": 6,
          "title": "Total Data Processed",
          "description": "Total size of all files processed",
          "type": "stat",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT pg_size_pretty(COALESCE(sum(size), 0)::bigint) AS \"Data Processed\" FROM files WHERE deleted_at IS NULL AND status IN ('processed', 'completed')",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "blue",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ]
            }
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 8,
            "y": 4
          }
        },
        {
          "id": 7,
          "title": "PII Detected",
          "description": "Files where PII was detected",
          "type": "stat",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT count(*) AS \"PII Files\" FROM files WHERE pii_detected = true AND deleted_at IS NULL",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "orange",
                    "value": 1
                  },
                  {
                    "color": "red",
                    "value": 10
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ]
            }
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 12,
            "y": 4
          }
        },
        {
          "id": 8,
          "title": "Avg Processing Time",
          "description": "Average file processing duration",
          "type": "stat",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT COALESCE(round(avg(processing_duration)::numeric / 1000, 1), 0) || 's' AS \"Avg Time\" FROM files WHERE processing_duration IS NOT NULL AND processing_duration > 0 AND deleted_at IS NULL",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ]
            }
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 16,
            "y": 4
          }
        },
        {
          "id": 9,
          "title": "Active Tenants",
          "description": "Number of active tenants",
          "type": "stat",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT count(*) AS \"Tenants\" FROM tenants WHERE status = 'active' AND deleted_at IS NULL",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "blue",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ]
            }
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 20,
            "y": 4
          }
        },
        {
          "id": 10,
          "title": "Processing Sessions",
          "description": "Sessions by status",
          "type": "bargauge",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT status, count(*) AS value FROM processing_sessions WHERE deleted_at IS NULL GROUP BY status ORDER BY CASE status WHEN 'running' THEN 1 WHEN 'pending' THEN 2 WHEN 'completed' THEN 3 WHEN 'completed_with_errors' THEN 4 WHEN 'failed' THEN 5 WHEN 'cancelled' THEN 6 END",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "displayMode": "gradient",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "showUnfilled": true
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 8
          }
        },
        {
          "id": 11,
          "title": "Files by Content Type",
          "description": "Distribution of file types being processed",
          "type": "piechart",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT COALESCE(NULLIF(extension, ''), 'unknown') AS extension, count(*) AS value FROM files WHERE deleted_at IS NULL GROUP BY extension ORDER BY value DESC LIMIT 15",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single"
            }
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 8
          }
        },
        {
          "id": 12,
          "title": "Files by Processing Tier",
          "description": "File distribution across processing tiers (tier1 <10MB, tier2 10MB-1GB, tier3 >1GB)",
          "type": "bargauge",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT COALESCE(processing_tier, 'unassigned') AS tier, count(*) AS value FROM files WHERE deleted_at IS NULL GROUP BY processing_tier ORDER BY tier",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "displayMode": "gradient",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "showUnfilled": true
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 8
          }
        },
        {
          "id": 13,
          "title": "Embedding Status",
          "description": "Chunk embedding pipeline status",
          "type": "piechart",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT embedding_status, count(*) AS value FROM chunks WHERE deleted_at IS NULL GROUP BY embedding_status ORDER BY value DESC",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "completed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "processing"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "pending"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "failed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "skipped"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "gray",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "options": {
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single"
            }
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 16
          }
        },
        {
          "id": 14,
          "title": "DLP Scan Status",
          "description": "Data Loss Prevention scan status across chunks",
          "type": "piechart",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT dlp_scan_status, count(*) AS value FROM chunks WHERE deleted_at IS NULL GROUP BY dlp_scan_status ORDER BY value DESC",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "completed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "pending"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "failed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "skipped"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "gray",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "options": {
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single"
            }
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 16
          }
        },
        {
          "id": 15,
          "title": "Chunk Types",
          "description": "Distribution of chunk content types (text, table, image, code)",
          "type": "piechart",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT chunk_type, count(*) AS value FROM chunks WHERE deleted_at IS NULL GROUP BY chunk_type ORDER BY value DESC",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              }
            },
            "overrides": []
          },
          "options": {
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "donut",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "tooltip": {
              "mode": "single"
            }
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 16
          }
        },
        {
          "id": 16,
          "title": "Files Per Tenant",
          "description": "File count by tenant",
          "type": "barchart",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT t.display_name AS tenant, count(f.id) AS files FROM tenants t LEFT JOIN files f ON f.tenant_id = t.id AND f.deleted_at IS NULL WHERE t.deleted_at IS NULL AND t.status = 'active' GROUP BY t.display_name ORDER BY files DESC",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "fillOpacity": 80,
                "gradientMode": "scheme"
              }
            },
            "overrides": []
          },
          "options": {
            "barWidth": 0.6,
            "orientation": "horizontal",
            "showValue": "always",
            "xTickLabelRotation": 0,
            "legend": {
              "displayMode": "hidden"
            }
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 24
          }
        },
        {
          "id": 17,
          "title": "Tenant Processing Breakdown",
          "description": "File status breakdown per tenant",
          "type": "table",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT t.display_name AS \"Tenant\", count(f.id) AS \"Total\", count(f.id) FILTER (WHERE f.status IN ('processed','completed')) AS \"Completed\", count(f.id) FILTER (WHERE f.status = 'processing') AS \"Processing\", count(f.id) FILTER (WHERE f.status = 'discovered') AS \"Queued\", count(f.id) FILTER (WHERE f.status IN ('error','failed')) AS \"Errors\", COALESCE(pg_size_pretty(sum(f.size)::bigint), '0 bytes') AS \"Total Size\", COALESCE(sum(f.chunk_count), 0) AS \"Chunks\" FROM tenants t LEFT JOIN files f ON f.tenant_id = t.id AND f.deleted_at IS NULL WHERE t.deleted_at IS NULL AND t.status = 'active' GROUP BY t.display_name ORDER BY \"Total\" DESC",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Errors"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "type": "color-text"
                    }
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "red",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Processing"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "type": "color-text"
                    }
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "steps": [
                        {
                          "color": "text",
                          "value": null
                        },
                        {
                          "color": "blue",
                          "value": 1
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Total"
              }
            ],
            "footer": {
              "enablePagination": false,
              "show": true,
              "reducer": [
                "sum"
              ]
            }
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 24
          }
        },
        {
          "id": 18,
          "title": "Recent File Activity",
          "description": "Files created in the last 7 days, grouped by day",
          "type": "timeseries",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT date_trunc('day', created_at) AS time, count(*) FILTER (WHERE status IN ('processed','completed')) AS \"Completed\", count(*) FILTER (WHERE status = 'processing') AS \"Processing\", count(*) FILTER (WHERE status IN ('error','failed')) AS \"Failed\", count(*) FILTER (WHERE status = 'discovered') AS \"Discovered\" FROM files WHERE deleted_at IS NULL AND created_at >= now() - interval '30 days' GROUP BY date_trunc('day', created_at) ORDER BY time",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "fillOpacity": 20,
                "lineWidth": 2,
                "pointSize": 5,
                "drawStyle": "bars",
                "barAlignment": 0,
                "stacking": {
                  "mode": "normal"
                }
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Completed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Processing"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Failed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Discovered"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom"
            },
            "tooltip": {
              "mode": "multi"
            }
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 32
          }
        },
        {
          "id": 19,
          "title": "Recent Files Detail",
          "description": "Last 50 files with processing status details",
          "type": "table",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT f.filename AS \"Filename\", f.extension AS \"Type\", f.status AS \"Status\", COALESCE(f.processing_tier, '-') AS \"Tier\", pg_size_pretty(f.size::bigint) AS \"Size\", f.chunk_count AS \"Chunks\", CASE WHEN f.processing_duration IS NOT NULL AND f.processing_duration > 0 THEN round(f.processing_duration::numeric / 1000, 1) || 's' ELSE '-' END AS \"Duration\", CASE WHEN f.pii_detected THEN 'Yes' ELSE 'No' END AS \"PII\", t.display_name AS \"Tenant\", to_char(f.created_at, 'YYYY-MM-DD HH24:MI') AS \"Created\", COALESCE(f.processing_error, '') AS \"Error\" FROM files f JOIN tenants t ON t.id = f.tenant_id WHERE f.deleted_at IS NULL ORDER BY f.created_at DESC LIMIT 50",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Status"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "type": "color-text"
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "type": "value",
                        "options": {
                          "processed": {
                            "text": "processed",
                            "color": "green"
                          },
                          "completed": {
                            "text": "completed",
                            "color": "green"
                          },
                          "processing": {
                            "text": "processing",
                            "color": "blue"
                          },
                          "discovered": {
                            "text": "discovered",
                            "color": "yellow"
                          },
                          "error": {
                            "text": "error",
                            "color": "red"
                          },
                          "failed": {
                            "text": "failed",
                            "color": "dark-red"
                          }
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Error"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 300
                  }
                ]
              }
            ]
          },
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Created"
              }
            ],
            "footer": {
              "enablePagination": true
            }
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 40
          }
        },
        {
          "id": 20,
          "title": "DLP Violations Summary",
          "description": "DLP violations by severity",
          "type": "bargauge",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT severity, count(*) AS value FROM dlp_violations GROUP BY severity ORDER BY CASE severity WHEN 'critical' THEN 1 WHEN 'high' THEN 2 WHEN 'medium' THEN 3 WHEN 'low' THEN 4 END",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "critical"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "high"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "medium"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "orange",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "low"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "yellow",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "options": {
            "displayMode": "gradient",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "showUnfilled": true
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 50
          }
        },
        {
          "id": 21,
          "title": "Processing Duration Distribution",
          "description": "Histogram of file processing times",
          "type": "barchart",
          "datasource": {
            "type": "grafana-postgresql-datasource",
            "uid": "pg-audimodal"
          },
          "targets": [
            {
              "rawSql": "SELECT CASE WHEN processing_duration < 1000 THEN '< 1s' WHEN processing_duration < 5000 THEN '1-5s' WHEN processing_duration < 10000 THEN '5-10s' WHEN processing_duration < 30000 THEN '10-30s' WHEN processing_duration < 60000 THEN '30-60s' ELSE '> 60s' END AS bucket, count(*) AS files FROM files WHERE processing_duration IS NOT NULL AND processing_duration > 0 AND deleted_at IS NULL GROUP BY CASE WHEN processing_duration < 1000 THEN '< 1s' WHEN processing_duration < 5000 THEN '1-5s' WHEN processing_duration < 10000 THEN '5-10s' WHEN processing_duration < 30000 THEN '10-30s' WHEN processing_duration < 60000 THEN '30-60s' ELSE '> 60s' END ORDER BY min(processing_duration)",
              "format": "table",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "fillOpacity": 80,
                "gradientMode": "scheme"
              }
            },
            "overrides": []
          },
          "options": {
            "barWidth": 0.6,
            "orientation": "vertical",
            "showValue": "always",
            "legend": {
              "displayMode": "hidden"
            }
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 50
          }
        }
      ],
      "templating": {
        "list": []
      },
      "time": {
        "from": "now-7d",
        "to": "now"
      },
      "timepicker": {},
      "refresh": "30s",
      "schemaVersion": 39,
      "version": 1,
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": {
              "type": "grafana",
              "uid": "-- Grafana --"
            },
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }
        ]
      }
    }
    
  audimodal-overview.json: |
    {
      "title": "Audimodal Overview",
      "tags": [
        "audimodal",
        "overview"
      ],
      "timezone": "browser",
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "id": null,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "id": 1,
          "title": "Service Status",
          "type": "stat",
          "targets": [
            {
              "expr": "up{job=\"audimodal\"}",
              "legendFormat": "Audimodal Status",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 0,
            "y": 0
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [
                {
                  "options": {
                    "0": {
                      "text": "DOWN",
                      "color": "red"
                    }
                  },
                  "type": "value"
                },
                {
                  "options": {
                    "1": {
                      "text": "UP",
                      "color": "green"
                    }
                  },
                  "type": "value"
                }
              ],
              "thresholds": {
                "steps": [
                  {
                    "color": "red",
                    "value": 0
                  },
                  {
                    "color": "green",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "options": {
            "colorMode": "background",
            "orientation": "horizontal",
            "reduceOptions": {
              "values": false,
              "calcs": [
                "lastNotNull"
              ],
              "fields": ""
            }
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 2,
          "title": "HTTP Requests to /metrics",
          "type": "timeseries",
          "targets": [
            {
              "expr": "rate(promhttp_metric_handler_requests_total{job=\"audimodal\"}[5m])",
              "legendFormat": "{{code}}",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 6,
            "y": 0
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 0,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom"
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 3,
          "title": "Memory Usage",
          "type": "timeseries",
          "targets": [
            {
              "expr": "go_memstats_alloc_bytes{job=\"audimodal\"}",
              "legendFormat": "Allocated Memory",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_heap_inuse_bytes{job=\"audimodal\"}",
              "legendFormat": "Heap In Use",
              "refId": "B",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 4
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 0,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 4,
          "title": "Garbage Collection",
          "type": "timeseries",
          "targets": [
            {
              "expr": "rate(go_gc_duration_seconds_count{job=\"audimodal\"}[5m])",
              "legendFormat": "GC Rate",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 4
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 0,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 5,
          "title": "Goroutines",
          "type": "stat",
          "targets": [
            {
              "expr": "go_goroutines{job=\"audimodal\"}",
              "legendFormat": "Active Goroutines",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 4,
            "w": 6,
            "x": 18,
            "y": 0
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "yellow",
                    "value": 100
                  },
                  {
                    "color": "red",
                    "value": 1000
                  }
                ]
              }
            },
            "overrides": []
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 6,
          "title": "Heap Objects",
          "type": "timeseries",
          "targets": [
            {
              "expr": "go_memstats_heap_objects{job=\"audimodal\"}",
              "legendFormat": "Heap Objects",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 12
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 0,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 7,
          "title": "GC Pause Duration",
          "type": "timeseries",
          "targets": [
            {
              "expr": "go_gc_duration_seconds{job=\"audimodal\",quantile=\"0.5\"}",
              "legendFormat": "50th percentile",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_gc_duration_seconds{job=\"audimodal\",quantile=\"0.9\"}",
              "legendFormat": "90th percentile",
              "refId": "B",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 12
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 0,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        }
      ],
      "refresh": "5s",
      "schemaVersion": 36,
      "style": "dark",
      "time": {
        "from": "now-15m",
        "to": "now"
      },
      "timepicker": {},
      "version": 1
    }
    
  audimodal-storage.json: |
    {
      "title": "Audimodal Memory & Storage Metrics",
      "tags": [
        "audimodal",
        "storage",
        "memory"
      ],
      "timezone": "browser",
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "id": null,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "id": 1,
          "title": "Heap Memory Overview",
          "type": "piechart",
          "targets": [
            {
              "expr": "go_memstats_heap_alloc_bytes{job=\"audimodal\"}",
              "legendFormat": "Allocated",
              "refId": "A",
              "instant": true,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_heap_idle_bytes{job=\"audimodal\"}",
              "legendFormat": "Idle",
              "refId": "B",
              "instant": true,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_heap_inuse_bytes{job=\"audimodal\"}",
              "legendFormat": "In Use",
              "refId": "C",
              "instant": true,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 0
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "options": {
            "reduceOptions": {
              "values": false,
              "calcs": [
                "lastNotNull"
              ],
              "fields": ""
            },
            "pieType": "pie",
            "tooltip": {
              "mode": "single",
              "sort": "none"
            },
            "legend": {
              "displayMode": "list",
              "placement": "right"
            }
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 2,
          "title": "Memory Usage Over Time",
          "type": "timeseries",
          "targets": [
            {
              "expr": "go_memstats_alloc_bytes{job=\"audimodal\"}",
              "legendFormat": "Currently Allocated",
              "refId": "A",
              "range": true,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_heap_sys_bytes{job=\"audimodal\"}",
              "legendFormat": "Heap System",
              "refId": "B",
              "range": true,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_sys_bytes{job=\"audimodal\"}",
              "legendFormat": "Total System",
              "refId": "C",
              "range": true,
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 16,
            "x": 8,
            "y": 0
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom"
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 3,
          "title": "Heap Allocation Rate",
          "type": "timeseries",
          "targets": [
            {
              "expr": "rate(go_memstats_alloc_bytes_total{job=\"audimodal\"}[5m])",
              "legendFormat": "Allocation Rate",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "rate(go_memstats_mallocs_total{job=\"audimodal\"}[5m])",
              "legendFormat": "Malloc Rate",
              "refId": "B",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "rate(go_memstats_frees_total{job=\"audimodal\"}[5m])",
              "legendFormat": "Free Rate",
              "refId": "C",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 8
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 0,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "binBps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "Malloc|Free"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ops"
                  }
                ]
              }
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 4,
          "title": "Memory Statistics",
          "type": "stat",
          "targets": [
            {
              "expr": "go_memstats_heap_objects{job=\"audimodal\"}",
              "legendFormat": "Heap Objects",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_stack_inuse_bytes{job=\"audimodal\"}",
              "legendFormat": "Stack In Use",
              "refId": "B",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_next_gc_bytes{job=\"audimodal\"}",
              "legendFormat": "Next GC Target",
              "refId": "C",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 8
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "yellow",
                    "value": 1000000
                  },
                  {
                    "color": "red",
                    "value": 10000000
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Heap Objects"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": ".*Bytes|.*Target"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "bytes"
                  }
                ]
              }
            ]
          },
          "options": {
            "colorMode": "value",
            "orientation": "auto",
            "reduceOptions": {
              "values": false,
              "calcs": [
                "lastNotNull"
              ],
              "fields": ""
            }
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 5,
          "title": "Garbage Collection Details",
          "type": "timeseries",
          "targets": [
            {
              "expr": "go_memstats_alloc_bytes{job=\"audimodal\"}",
              "legendFormat": "Currently Allocated",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_heap_released_bytes{job=\"audimodal\"}",
              "legendFormat": "Released to OS",
              "refId": "B",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_next_gc_bytes{job=\"audimodal\"}",
              "legendFormat": "Next GC Target",
              "refId": "C",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 0,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 6,
          "title": "Memory System Breakdown",
          "type": "timeseries",
          "targets": [
            {
              "expr": "go_memstats_gc_sys_bytes{job=\"audimodal\"}",
              "legendFormat": "GC System",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_mcache_sys_bytes{job=\"audimodal\"}",
              "legendFormat": "MCache System",
              "refId": "B",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_mspan_sys_bytes{job=\"audimodal\"}",
              "legendFormat": "MSpan System",
              "refId": "C",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_other_sys_bytes{job=\"audimodal\"}",
              "legendFormat": "Other System",
              "refId": "D",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 0,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 7,
          "title": "Process CPU & FD Usage",
          "type": "timeseries",
          "targets": [
            {
              "expr": "rate(process_cpu_seconds_total{job=\"audimodal\"}[5m])",
              "legendFormat": "CPU Usage",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "process_open_fds{job=\"audimodal\"}",
              "legendFormat": "Open File Descriptors",
              "refId": "B",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "CPU Usage"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "percentunit"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Open File Descriptors"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  },
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  }
                ]
              }
            ]
          },
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom"
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        },
        {
          "id": 8,
          "title": "Memory Efficiency Metrics",
          "type": "stat",
          "targets": [
            {
              "expr": "go_memstats_alloc_bytes{job=\"audimodal\"} / go_memstats_heap_sys_bytes{job=\"audimodal\"}",
              "legendFormat": "Heap Utilization",
              "refId": "A",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "go_memstats_heap_released_bytes{job=\"audimodal\"}",
              "legendFormat": "Released to OS",
              "refId": "B",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            },
            {
              "expr": "rate(go_memstats_last_gc_time_seconds{job=\"audimodal\"}[5m]) * 60",
              "legendFormat": "GC Frequency (per min)",
              "refId": "C",
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              }
            }
          ],
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "yellow",
                    "value": 0.8
                  },
                  {
                    "color": "red",
                    "value": 0.95
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Heap Utilization"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "percentunit"
                  },
                  {
                    "id": "max",
                    "value": 1
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Released to OS"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "bytes"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "GC Frequency (per min)"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  }
                ]
              }
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "PBFA97CFB590B2093"
          }
        }
      ],
      "refresh": "10s",
      "schemaVersion": 36,
      "style": "dark",
      "time": {
        "from": "now-30m",
        "to": "now"
      },
      "timepicker": {},
      "version": 1
    }
    